=================================================================
==14==ERROR: AddressSanitizer: heap-use-after-free on address 0xf5b009d4 at pc 0x566770b9 bp 0xfff1e058 sp 0xfff1e048
READ of size 4 at 0xf5b009d4 thread T0
    #0 0x566770b8 in ecma_compare_ecma_non_direct_strings /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:1940
    #1 0x566770b8 in ecma_string_compare_to_property_name /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:1809
    #2 0x5669c7be in ecma_property_hashmap_find /home/workspace/jerry-core/ecma/base/ecma-property-hashmap.c:396
    #3 0x56688380 in ecma_find_named_property /home/workspace/jerry-core/ecma/base/ecma-helpers.c:656
    #4 0x56702fb5 in ecma_op_object_find_own /home/workspace/jerry-core/ecma/operations/ecma-objects.c:704
    #5 0x56703890 in ecma_op_object_find /home/workspace/jerry-core/ecma/operations/ecma-objects.c:855
    #6 0x5684fbfb in ecma_op_object_bound_environment_resolve_reference_value /home/workspace/jerry-core/ecma/operations/ecma-reference.c:238
    #7 0x56850a67 in ecma_op_resolve_reference_value /home/workspace/jerry-core/ecma/operations/ecma-reference.c:387
    #8 0x567b5691 in vm_loop /home/workspace/jerry-core/vm/vm.c:1101
    #9 0x567dab42 in vm_execute /home/workspace/jerry-core/vm/vm.c:5274
    #10 0x567db39f in vm_run /home/workspace/jerry-core/vm/vm.c:5377
    #11 0x567b15c3 in vm_run_global /home/workspace/jerry-core/vm/vm.c:309
    #12 0x5662d691 in jerry_run /home/workspace/jerry-core/api/jerry.c:588
    #13 0x56620e2e in main /home/workspace/jerry-main/main-jerry.c:181
    #14 0xf7732fa0 in __libc_start_main (/lib32/libc.so.6+0x18fa0)
    #15 0x5661faf0  (/home/workspace/build/bin/jerry+0x5baf0)

0xf5b009d4 is located 4 bytes inside of 20-byte region [0xf5b009d0,0xf5b009e4)
freed by thread T0 here:
    #0 0xf7aa3b94 in __interceptor_free (/usr/lib32/libasan.so.4+0xe5b94)
    #1 0x5674536c in jmem_heap_free_block_internal /home/workspace/jerry-core/jmem/jmem-heap.c:477
    #2 0x5674591c in jmem_heap_free_block /home/workspace/jerry-core/jmem/jmem-heap.c:691
    #3 0x567db9e3 in ecma_dealloc_string_buffer /home/workspace/jerry-core/ecma/base/ecma-alloc.c:236
    #4 0x566725ef in ecma_destroy_ecma_string /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:1011
    #5 0x56671e38 in ecma_deref_ecma_string_non_direct /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:949
    #6 0x56683f77 in ecma_free_value /home/workspace/jerry-core/ecma/base/ecma-helpers-value.c:1140
    #7 0x567adb20 in vm_stack_context_abort /home/workspace/jerry-core/vm/vm-stack.c:154
    #8 0x567af877 in vm_stack_find_finally /home/workspace/jerry-core/vm/vm-stack.c:460
    #9 0x567d8a13 in vm_loop /home/workspace/jerry-core/vm/vm.c:4944
    #10 0x567dab42 in vm_execute /home/workspace/jerry-core/vm/vm.c:5274
    #11 0x567db39f in vm_run /home/workspace/jerry-core/vm/vm.c:5377
    #12 0x566ec00b in ecma_op_function_call_simple /home/workspace/jerry-core/ecma/operations/ecma-function-object.c:1145
    #13 0x566ed5de in ecma_op_function_call /home/workspace/jerry-core/ecma/operations/ecma-function-object.c:1395
    #14 0x566b8a96 in ecma_builtin_typedarray_prototype_sort_compare_helper /home/workspace/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.c:1141
    #15 0x5680aabd in ecma_builtin_helper_array_merge_sort_bottom_up /home/workspace/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-sort.c:48
    #16 0x5680ae58 in ecma_builtin_helper_array_merge_sort_helper /home/workspace/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-sort.c:111
    #17 0x566b9511 in ecma_builtin_typedarray_prototype_sort /home/workspace/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.c:1220
    #18 0x566bf32a in ecma_builtin_typedarray_prototype_dispatch_routine /home/workspace/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.c:1954
    #19 0x566af1ce in ecma_builtin_dispatch_routine /home/workspace/jerry-core/ecma/builtin-objects/ecma-builtins.c:1613
    #20 0x566af4e3 in ecma_builtin_dispatch_call /home/workspace/jerry-core/ecma/builtin-objects/ecma-builtins.c:1644
    #21 0x566ec520 in ecma_op_function_call_native_built_in /home/workspace/jerry-core/ecma/operations/ecma-function-object.c:1206
    #22 0x566ed61e in ecma_op_function_call /home/workspace/jerry-core/ecma/operations/ecma-function-object.c:1399
    #23 0x567b4118 in opfunc_call /home/workspace/jerry-core/vm/vm.c:802
    #24 0x567dabc8 in vm_execute /home/workspace/jerry-core/vm/vm.c:5280
    #25 0x567db39f in vm_run /home/workspace/jerry-core/vm/vm.c:5377
    #26 0x567b15c3 in vm_run_global /home/workspace/jerry-core/vm/vm.c:309
    #27 0x5662d691 in jerry_run /home/workspace/jerry-core/api/jerry.c:588
    #28 0x56620e2e in main /home/workspace/jerry-main/main-jerry.c:181
    #29 0xf7732fa0 in __libc_start_main (/lib32/libc.so.6+0x18fa0)

previously allocated by thread T0 here:
    #0 0xf7aa3f54 in malloc (/usr/lib32/libasan.so.4+0xe5f54)
    #1 0x56744d6a in jmem_heap_alloc /home/workspace/jerry-core/jmem/jmem-heap.c:254
    #2 0x56744efe in jmem_heap_gc_and_alloc_block /home/workspace/jerry-core/jmem/jmem-heap.c:291
    #3 0x56745093 in jmem_heap_alloc_block /home/workspace/jerry-core/jmem/jmem-heap.c:324
    #4 0x567db97b in ecma_alloc_string_buffer /home/workspace/jerry-core/ecma/base/ecma-alloc.c:222
    #5 0x5666cd41 in ecma_new_ecma_string_from_utf8_buffer /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:264
    #6 0x5666cd41 in ecma_new_ecma_string_from_utf8 /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:385
    #7 0x566371ba in jerry_create_string_sz /home/workspace/jerry-core/api/jerry.c:2778
    #8 0x566370ba in jerry_create_string /home/workspace/jerry-core/api/jerry.c:2761
    #9 0x568b8179 in jerryx_handler_register_global /home/workspace/jerry-ext/handler/handler-register.c:32
    #10 0x56622d79 in main_register_global_function /home/workspace/jerry-main/main-utils.c:42
    #11 0x56624555 in main_init_engine /home/workspace/jerry-main/main-utils.c:291
    #12 0x5661ff0f in main /home/workspace/jerry-main/main-jerry.c:80
    #13 0xf7732fa0 in __libc_start_main (/lib32/libc.so.6+0x18fa0)

SUMMARY: AddressSanitizer: heap-use-after-free /home/workspace/jerry-core/ecma/base/ecma-helpers-string.c:1940 in ecma_compare_ecma_non_direct_strings
Shadow bytes around the buggy address:
  0x3eb600e0: 00 00 00 00 fa fa 00 00 00 fa fa fa 00 00 00 fa
  0x3eb600f0: fa fa 00 00 00 fa fa fa 00 00 00 00 fa fa 00 00
  0x3eb60100: 00 fa fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa
  0x3eb60110: 00 00 00 fa fa fa 00 00 00 00 fa fa fd fd fd fa
  0x3eb60120: fa fa fd fd fd fa fa fa 00 00 05 fa fa fa 00 00
=>0x3eb60130: 00 fa fa fa 00 00 00 00 fa fa[fd]fd fd fa fa fa
  0x3eb60140: 00 00 00 00 fa fa fd fd fd fa fa fa 00 00 00 fa
  0x3eb60150: fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa 00 00
  0x3eb60160: 00 fa fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa
  0x3eb60170: 00 00 00 00 fa fa 00 00 00 fa fa fa 00 00 00 fa
  0x3eb60180: fa fa 00 00 00 fa fa fa 00 00 00 fa fa fa 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==14==ABORTING
